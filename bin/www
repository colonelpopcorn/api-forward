#!/usr/bin/env node
"use strict";

//module dependencies
var server = require("../build/app").Server;
var http = require("http");

//create http server
var httpPort = www.normalizePort(process.env.PORT, 8080);
var app = new Server().app;
var listeners = server.WWW.getListeners();
app.set("port", httpPort);
var httpServer = http.createServer(app);

//listen on provided ports
httpServer.listen(httpPort);

//add error handler
httpServer.on("error", onError);

//start listening on port
httpServer.on("listening", onListening);
